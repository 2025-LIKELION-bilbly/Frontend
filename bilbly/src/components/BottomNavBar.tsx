import React from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import * as S from './BottomNavBar.styles';


const HomeIcon = () => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(3 2.5)">
      <path 
        d="M18 8.99931V17.9993C18 18.1982 17.921 18.389 17.7803 18.5296C17.6397 18.6703 17.4489 18.7493 17.25 18.7493H12C11.8011 18.7493 11.6103 18.6703 11.4697 18.5296C11.329 18.389 11.25 18.1982 11.25 17.9993V13.1243C11.25 13.0248 11.2105 12.9295 11.1402 12.8591C11.0698 12.7888 10.9745 12.7493 10.875 12.7493H7.125C7.02554 12.7493 6.93016 12.7888 6.85983 12.8591C6.78951 12.9295 6.75 13.0248 6.75 13.1243V17.9993C6.75 18.1982 6.67098 18.389 6.53033 18.5296C6.38968 18.6703 6.19891 18.7493 6 18.7493H0.75C0.551088 18.7493 0.360322 18.6703 0.21967 18.5296C0.0790178 18.389 0 18.1982 0 17.9993V8.99931C0.000184396 8.60155 0.15834 8.22016 0.439687 7.93899L7.93969 0.438992C8.22096 0.1579 8.60235 0 9 0C9.39765 0 9.77904 0.1579 10.0603 0.438992L17.5603 7.93899C17.8417 8.22016 17.9998 8.60155 18 8.99931Z" 
        fill="currentColor"
      />
    </g>
  </svg>
);


const MeetingIcon = () => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ transform: 'translateX(1.5px)' }}>
    <path d="M21 3.75V17.25C21 17.4489 20.921 17.6397 20.78 17.7803C20.64 17.921 20.449 18 20.25 18H13.5C12.904 18 12.333 18.2363 11.911 18.657C11.489 19.0778 11.251 19.6486 11.25 20.2444C11.253 20.3975 11.208 20.5478 11.122 20.6746C11.037 20.8013 10.913 20.8983 10.77 20.9522C10.656 20.9961 10.533 21.0116 10.412 20.9973C10.291 20.983 10.175 20.9394 10.075 20.8702C9.974 20.8011 9.892 20.7084 9.836 20.6003C9.779 20.4923 9.75 20.372 9.75 20.25C9.75 19.6533 9.513 19.081 9.091 18.659C8.669 18.2371 8.097 18 7.5 18H0.75C0.5511 18 0.3603 17.921 0.2197 17.7803C0.079 17.6397 0 17.4489 0 17.25V3.75C0 3.5511 0.079 3.3603 0.2197 3.2197C0.3603 3.079 0.5511 3 0.75 3H6.75C7.546 3 8.309 3.3161 8.871 3.8787C9.434 4.4413 9.75 5.2044 9.75 6V14.2247C9.747 14.4182 9.818 14.6056 9.948 14.7491C10.078 14.8926 10.257 14.9816 10.45 14.9981C10.553 15.0049 10.656 14.9906 10.753 14.956C10.849 14.9213 10.938 14.8672 11.013 14.7968C11.088 14.7265 11.148 14.6415 11.189 14.5471C11.229 14.4527 11.25 14.3509 11.25 14.2481V6C11.25 5.2044 11.566 4.4413 12.129 3.8787C12.691 3.3161 13.454 3 14.25 3H20.25C20.449 3 20.64 3.079 20.78 3.2197C20.921 3.3603 21 3.5511 21 3.75Z" fill="currentColor"/>
  </svg>
);


const MyIcon = () => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(3 2.5)">
      <path 
        d="M17.9672 15.9883L14.8556 1.19452C14.8154 1.00105 14.7373 0.817451 14.6259 0.654254C14.5145 0.491056 14.3719 0.35148 14.2064 0.243545C14.0409 0.135609 13.8557 0.0614407 13.6614 0.0253007C13.4671 -0.0108393 13.2676 -0.00823877 13.0744 0.0329529L8.68594 0.976078C8.29776 1.06107 7.95885 1.29589 7.74291 1.62946C7.52696 1.96303 7.45146 2.36838 7.53281 2.75733L10.6444 17.5511C10.7137 17.8886 10.8971 18.192 11.1638 18.4101C11.4305 18.6283 11.7642 18.7481 12.1088 18.7492C12.2153 18.7491 12.3215 18.7377 12.4256 18.7155L16.8141 17.7723C17.2027 17.6871 17.542 17.4518 17.7579 17.1177C17.9739 16.7836 18.0491 16.3776 17.9672 15.9883ZM9 2.45077C9 2.44514 9 2.44233 9 2.44233L13.3875 1.50483L13.6997 2.99264L9.31219 3.9367L9 2.45077ZM9.9375 6.89264L9.62344 5.40202L14.0128 4.45889L14.3259 5.94952L9.9375 6.89264ZM16.5 16.3061L12.1125 17.2436L11.8003 15.7558L16.1878 14.8117L16.5 16.2976C16.5 16.3033 16.5 16.3061 16.5 16.3061ZM6 0.749203H1.5C1.10218 0.749203 0.720644 0.907238 0.43934 1.18854C0.158035 1.46985 0 1.85138 0 2.2492V17.2492C0 17.647 0.158035 18.0286 0.43934 18.3099C0.720644 18.5912 1.10218 18.7492 1.5 18.7492H6C6.39782 18.7492 6.77936 18.5912 7.06066 18.3099C7.34196 18.0286 7.5 17.647 7.5 17.2492V2.2492C7.5 1.85138 7.34196 1.46985 7.06066 1.18854C6.77936 0.907238 6.39782 0.749203 6 0.749203ZM1.5 2.2492H6V3.7492H1.5V2.2492ZM6 17.2492H1.5V15.7492H6V17.2492Z" 
        fill="currentColor"
      />
    </g>
  </svg>
);

function BottomNavBar() {
  const navigate = useNavigate();
  const location = useLocation();

  if (location.pathname === '/exchange/start') {
    return null;
  }
  
  const isHome = location.pathname.includes('/main');
  const isMeeting = location.pathname.includes('/meeting');
  const isMyPage = location.pathname.includes('/mypage');

  return (
    <S.BottomBackground>
      <S.NavPill>
        <S.NavItem 
          $isActive={isHome} 
          onClick={() => navigate('/main')}
        >
          <HomeIcon />
        </S.NavItem>

        <S.NavItem 
          $isActive={isMeeting} 
          onClick={() => navigate('/meeting')}
        >
          <MeetingIcon />
        </S.NavItem>

        <S.NavItem 
          $isActive={isMyPage} 
          onClick={() => console.log('마이페이지')}
        >
          <MyIcon />
        </S.NavItem>
      </S.NavPill>
    </S.BottomBackground>
  );
}

export default BottomNavBar;